<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Spiel-Details</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>Spiel-Details</h1>
  </header>

  <main id="spiel-details">
    <p>Lade Spieldetails...</p>
  </main>

  <footer>
    <a href="index.html">← Zurück zur Übersicht</a>
  </footer>

  <script>
    const params = new URLSearchParams(window.location.search);
    const id = parseInt(params.get("id"));

    fetch("data.json")
      .then(res => res.json())
      .then(spiele => {
        const spiel = spiele.find(s => s.id === id);
        if (!spiel) {
          document.getElementById("spiel-details").innerHTML = "<p>Spiel nicht gefunden.</p>";
          return;
        }

        document.title = `${spiel.gegner} (${spiel.datum})`;
        document.getElementById("spiel-details").innerHTML = `
          <h2>${spiel.datum} – ${spiel.gegner}</h2>
          <p><strong>Wettbewerb:</strong> ${spiel.wettbewerb}</p>
          <p><strong>Ergebnis:</strong> ${spiel.ergebnis}</p>
          <p>${spiel.bericht || "Noch kein Bericht hinzugefügt."}</p>
          ${spiel.bild ? `<img src="${spiel.bild}" alt="${spiel.gegner}" class="spielbild">` : ""}
          ${spiel.video ? `<iframe width="560" height="315" src="${spiel.video}" frameborder="0" allowfullscreen></iframe>` : ""}
          ${spiel.link ? `<p><a href="${spiel.link}" target="_blank">Externer Bericht ansehen</a></p>` : ""}
        `;
      });
  </script>
</body>
</html>
